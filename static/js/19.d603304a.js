"use strict";(self["webpackChunkcourse_search"]=self["webpackChunkcourse_search"]||[]).push([[19],{5019:function(e,t,o){o.r(t),o.d(t,{default:function(){return I}});var r=o(641),a=o(3751);const s={class:"add-course"},n={class:"header-text"},l={key:0},i={key:1},u={key:2,class:"subtext-box"},c=(0,r.Lk)("p",{class:"subtext"}," 您必须先完成课程评价后，才能查询课程评价。为了维护良好生态，请您务必认真填写评价！ ",-1),d=[c],p=(0,r.Lk)("div",{class:"warning-box"},[(0,r.Lk)("p",{class:"warning-text"}," 删除Cookies后可能需要重新填写课程评价 ")],-1),m={class:"form-group"},v=(0,r.Lk)("label",{for:"course_name"},"课程名称:",-1),f={class:"form-group"},b=(0,r.Lk)("label",{for:"course_attribute"},"课程属性:",-1),k=(0,r.Fv)('<option disabled value="">请选择课程属性</option><option value="体育课">体育课</option><option value="通识选修课（公选课）">通识选修课（公选课）</option><option value="公共课">公共课（高数、线代、大物和思政课等）</option><option value="专业课程">专业课程</option><option value="通识必修课（导引）">通识必修课（导引）</option>',6),L=[k],h={key:0,class:"form-group"},g=(0,r.Lk)("label",{for:"elective_field"},"公选课领域:",-1),_=(0,r.Fv)('<option disabled value="">请选择公选课领域</option><option value="中华文化与世界文明">中华文化与世界文明</option><option value="科学精神与生命关怀">科学精神与生命关怀</option><option value="社会科学与现代科学">社会科学与现代科学</option><option value="艺术体验与审美欣赏">艺术体验与审美欣赏</option>',5),E=[_],A={class:"form-group"},C=(0,r.Lk)("label",{for:"instructor"},"授课老师:",-1),x={class:"form-group"},y=(0,r.Lk)("label",{for:"content"},"课程内容与评价:",-1),U={class:"form-group"},w=(0,r.Lk)("label",{for:"attendance"},"考勤与平时作业:",-1),F={class:"form-group"},V=(0,r.Lk)("label",{for:"assessment"},"期末考核方式:",-1),q={class:"form-group"},J=(0,r.Lk)("label",{for:"grade"},"课程成绩(选填):",-1),T=(0,r.Lk)("div",{class:"button-container"},[(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"提交评价")],-1);function O(e,t,o,c,k,_){return(0,r.uX)(),(0,r.CE)("div",s,[(0,r.Lk)("div",n,[k.courseEvaluationFilled?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("h2",l,"添加课程评价")),k.courseEvaluationFilled?((0,r.uX)(),(0,r.CE)("h2",i,"补充课程评价")):(0,r.Q3)("",!0),k.courseEvaluationFilled?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",u,d)),p]),(0,r.Lk)("form",{onSubmit:t[8]||(t[8]=(0,a.D$)(((...e)=>_.addCourse&&_.addCourse(...e)),["prevent"]))},[(0,r.Lk)("div",m,[v,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>k.course_name=e),id:"course_name",class:"form-control",required:""},null,512),[[a.Jo,k.course_name]])]),(0,r.Lk)("div",f,[b,(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>k.course_attribute=e),id:"course_attribute",class:"form-control",required:""},L,512),[[a.u1,k.course_attribute]])]),"通识选修课（公选课）"===k.course_attribute?((0,r.uX)(),(0,r.CE)("div",h,[g,(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>k.elective_field=e),id:"elective_field",class:"form-control",required:""},E,512),[[a.u1,k.elective_field]])])):(0,r.Q3)("",!0),(0,r.Lk)("div",A,[C,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>k.instructor=e),id:"instructor",class:"form-control",required:""},null,512),[[a.Jo,k.instructor]])]),(0,r.Lk)("div",x,[y,(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>k.content=e),id:"content",class:"form-control",required:""},null,512),[[a.Jo,k.content]])]),(0,r.Lk)("div",U,[w,(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[5]||(t[5]=e=>k.attendance=e),id:"attendance",class:"form-control",required:""},null,512),[[a.Jo,k.attendance]])]),(0,r.Lk)("div",F,[V,(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>k.assessment=e),id:"assessment",class:"form-control",required:""},null,512),[[a.Jo,k.assessment]])]),(0,r.Lk)("div",q,[J,(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=e=>k.grade=e),id:"grade",class:"form-control"},null,512),[[a.Jo,k.grade]])]),T],32)])}var X=o(2243),Q=o(447);X.A.defaults.headers.common["Access-Control-Allow-Origin"]="*",X.A.defaults.headers.common["Access-Control-Allow-Methods"]="GET, POST, PUT, DELETE, OPTIONS",X.A.defaults.headers.common["Access-Control-Allow-Headers"]="Origin, Content-Type, Accept, Authorization";var P={data(){return{course_name:"",course_attribute:"",elective_field:"",instructor:"",content:"",attendance:"",assessment:"",grade:"",courseEvaluationFilled:"true"===Q.A.get("courseEvaluationFilled")}},methods:{async addCourse(){const e={course_name:this.course_name,course_attribute:this.course_attribute,elective_field:"通识选修课（公选课）"===this.course_attribute?this.elective_field:"",instructor:this.instructor,content:this.content,attendance:this.attendance,assessment:this.assessment,grade:""===this.grade?"Unknown":this.grade};if("Unknown"!==e.grade&&(!Number.isInteger(e.grade)||e.grade<0||e.grade>100))return void alert("课程成绩必须是0-100范围内的整数或者为空");const t="http://103.20.220.93:5000/add_course";try{await X.A.post(t,e),alert("课程评价提交成功"),Q.A.set("courseEvaluationFilled","true",{expires:200}),this.courseEvaluationFilled=!0,this.$emit("courseAdded")}catch(o){console.error("Error adding course:",o),alert("课程评价提交失败")}}}},S=o(6262);const D=(0,S.A)(P,[["render",O]]);var I=D}}]);
//# sourceMappingURL=19.d603304a.js.map
(function(){"use strict";var e={489:function(e,t,a){var s=a(3751),r=a(641);const n={id:"app"},o=(0,r.Lk)("h1",null,"WHU课程收集与评价查询系统",-1),l={class:"statistics-container"},i={class:"button-container"},u={key:2},c={key:0},d={key:1},p=(0,r.Lk)("p",null,"未找到查询结果",-1),h=[p],v=(0,r.Lk)("footer",null,[(0,r.Lk)("p",null," 声明：本网站数据来源于大众同学对各类课程的评价，不保证真实性、可靠性、准确性，并不承担由此产生的任何责任。"),(0,r.Lk)("p",null,"© CopyRight by JeredGong. All rights reserved.")],-1);function f(e,t,a,s,p,f){const m=(0,r.g2)("el-statistic"),k=(0,r.g2)("el-col"),b=(0,r.g2)("el-row"),g=(0,r.g2)("AddCourse"),L=(0,r.g2)("FreshmenZone"),y=(0,r.g2)("SearchForm"),_=(0,r.g2)("SearchResults");return(0,r.uX)(),(0,r.CE)("div",n,[(0,r.Lk)("header",null,[o,(0,r.Lk)("div",l,[(0,r.bF)(b,{gutter:20},{default:(0,r.k6)((()=>[(0,r.bF)(k,{span:12},{default:(0,r.k6)((()=>[(0,r.bF)(m,{class:"statistic-item",title:"今日访问量",value:p.visitCount},null,8,["value"])])),_:1}),(0,r.bF)(k,{span:12},{default:(0,r.k6)((()=>[(0,r.bF)(m,{class:"statistic-item",title:"课程评价总数",value:p.evaluationCount},null,8,["value"])])),_:1})])),_:1})])]),(0,r.Lk)("main",null,[(0,r.Lk)("div",i,[!p.courseEvaluationFilled&!p.surveyCompleted?((0,r.uX)(),(0,r.CE)("button",{key:0,class:"btn",onClick:t[0]||(t[0]=e=>p.currentPage="add")},"添加课程评价")):(0,r.Q3)("",!0),p.surveyCompleted||p.courseEvaluationFilled?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:1,class:"btn",onClick:t[1]||(t[1]=e=>p.currentPage="freshmen")}," 新生专区 ")),p.courseEvaluationFilled||p.surveyCompleted?((0,r.uX)(),(0,r.CE)(r.FK,{key:2},[(0,r.Lk)("button",{class:"btn",onClick:t[2]||(t[2]=e=>p.currentPage="search")},"查询课程评价"),(0,r.Lk)("button",{class:"btn",onClick:t[3]||(t[3]=e=>p.currentPage="add")},"补充课程评价")],64)):(0,r.Q3)("",!0)]),"add"===p.currentPage?((0,r.uX)(),(0,r.Wv)(g,{key:0,onCourseAdded:f.courseAdded},null,8,["onCourseAdded"])):(0,r.Q3)("",!0),"freshmen"===p.currentPage?((0,r.uX)(),(0,r.Wv)(L,{key:1,onSurveyCompleted:f.handleSurveyCompleted},null,8,["onSurveyCompleted"])):(0,r.Q3)("",!0),"search"===p.currentPage?((0,r.uX)(),(0,r.CE)("div",u,[(0,r.bF)(y,{onSearch:f.handleSearch},null,8,["onSearch"]),p.results.length?((0,r.uX)(),(0,r.CE)("div",c,[(0,r.bF)(_,{results:p.results},null,8,["results"])])):((0,r.uX)(),(0,r.CE)("div",d,h))])):(0,r.Q3)("",!0)]),v])}var m=a(2243),k=a(447);const b={class:"add-course"},g={class:"header-text"},L={key:0},y={key:1},_={key:2,class:"subtext-box"},C=(0,r.Lk)("p",{class:"subtext"}," 您必须先完成课程评价后，才能查询课程评价。为了维护良好生态，请您务必认真填写评价！ ",-1),F=[C],P=(0,r.Lk)("div",{class:"warning-box"},[(0,r.Lk)("p",{class:"warning-text"}," 删除Cookies后可能需要重新填写课程评价 ")],-1),E={class:"form-group"},w=(0,r.Lk)("label",{for:"course_name"},"课程名称:",-1),A={class:"form-group"},x=(0,r.Lk)("label",{for:"course_attribute"},"课程属性:",-1),S=(0,r.Fv)('<option disabled value="">请选择课程属性</option><option value="体育课">体育课</option><option value="通识选修课（公选课）">通识选修课（公选课）</option><option value="公共课">公共课（高数、线代、大物和思政课等）</option><option value="专业课程">专业课程</option><option value="通识必修课（导引）">通识必修课（导引）</option>',6),T=[S],X={key:0,class:"form-group"},O=(0,r.Lk)("label",{for:"elective_field"},"公选课领域:",-1),U=(0,r.Fv)('<option disabled value="">请选择公选课领域</option><option value="中华文化与世界文明">中华文化与世界文明</option><option value="科学精神与生命关怀">科学精神与生命关怀</option><option value="社会科学与现代科学">社会科学与现代科学</option><option value="艺术体验与审美欣赏">艺术体验与审美欣赏</option>',5),V=[U],D={class:"form-group"},j=(0,r.Lk)("label",{for:"instructor"},"授课老师:",-1),q={class:"form-group"},z=(0,r.Lk)("label",{for:"content"},"课程内容与评价:",-1),Q={class:"form-group"},W=(0,r.Lk)("label",{for:"attendance"},"考勤与平时作业:",-1),M={class:"form-group"},I=(0,r.Lk)("label",{for:"assessment"},"期末考核方式:",-1),J={class:"form-group"},R=(0,r.Lk)("label",{for:"grade"},"课程成绩(选填):",-1),N=(0,r.Lk)("div",{class:"button-container"},[(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"提交评价")],-1);function $(e,t,a,n,o,l){return(0,r.uX)(),(0,r.CE)("div",b,[(0,r.Lk)("div",g,[o.courseEvaluationFilled?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("h2",L,"添加课程评价")),o.courseEvaluationFilled?((0,r.uX)(),(0,r.CE)("h2",y,"补充课程评价")):(0,r.Q3)("",!0),o.courseEvaluationFilled?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",_,F)),P]),(0,r.Lk)("form",{onSubmit:t[8]||(t[8]=(0,s.D$)(((...e)=>l.addCourse&&l.addCourse(...e)),["prevent"]))},[(0,r.Lk)("div",E,[w,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.course_name=e),id:"course_name",class:"form-control",required:""},null,512),[[s.Jo,o.course_name]])]),(0,r.Lk)("div",A,[x,(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.course_attribute=e),id:"course_attribute",class:"form-control",required:""},T,512),[[s.u1,o.course_attribute]])]),"通识选修课（公选课）"===o.course_attribute?((0,r.uX)(),(0,r.CE)("div",X,[O,(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.elective_field=e),id:"elective_field",class:"form-control",required:""},V,512),[[s.u1,o.elective_field]])])):(0,r.Q3)("",!0),(0,r.Lk)("div",D,[j,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>o.instructor=e),id:"instructor",class:"form-control",required:""},null,512),[[s.Jo,o.instructor]])]),(0,r.Lk)("div",q,[z,(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.content=e),id:"content",class:"form-control",required:""},null,512),[[s.Jo,o.content]])]),(0,r.Lk)("div",Q,[W,(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.attendance=e),id:"attendance",class:"form-control",required:""},null,512),[[s.Jo,o.attendance]])]),(0,r.Lk)("div",M,[I,(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.assessment=e),id:"assessment",class:"form-control",required:""},null,512),[[s.Jo,o.assessment]])]),(0,r.Lk)("div",J,[R,(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=e=>o.grade=e),id:"grade",class:"form-control"},null,512),[[s.Jo,o.grade]])]),N],32)])}m.A.defaults.headers.common["Access-Control-Allow-Origin"]="*",m.A.defaults.headers.common["Access-Control-Allow-Methods"]="GET, POST, PUT, DELETE, OPTIONS",m.A.defaults.headers.common["Access-Control-Allow-Headers"]="Origin, Content-Type, Accept, Authorization";var H={data(){return{course_name:"",course_attribute:"",elective_field:"",instructor:"",content:"",attendance:"",assessment:"",grade:"",courseEvaluationFilled:"true"===k.A.get("courseEvaluationFilled")}},methods:{async addCourse(){const e={course_name:this.course_name,course_attribute:this.course_attribute,elective_field:"通识选修课（公选课）"===this.course_attribute?this.elective_field:"",instructor:this.instructor,content:this.content,attendance:this.attendance,assessment:this.assessment,grade:""===this.grade?"Unknown":this.grade};if("Unknown"!==e.grade&&(!Number.isInteger(e.grade)||e.grade<0||e.grade>100))return void alert("课程成绩必须是0-100范围内的整数或者为空");const t="http://103.20.220.93:5000/add_course";try{await m.A.post(t,e),alert("课程评价提交成功"),k.A.set("courseEvaluationFilled","true",{expires:200}),this.courseEvaluationFilled=!0,this.$emit("courseAdded")}catch(a){console.error("Error adding course:",a),alert("课程评价提交失败")}}}},K=a(6262);const Z=(0,K.A)(H,[["render",$]]);var G=Z;const Y={class:"search-form"},B=(0,r.Lk)("h2",null,"查询课程评价",-1),ee={class:"form-group"},te=(0,r.Lk)("label",{for:"course_name"},"课程名称:",-1),ae={class:"form-group"},se=(0,r.Lk)("label",{for:"instructor"},"授课老师:",-1),re=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"查询",-1);function ne(e,t,a,n,o,l){return(0,r.uX)(),(0,r.CE)("div",Y,[B,(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)(((...e)=>l.searchCourses&&l.searchCourses(...e)),["prevent"]))},[(0,r.Lk)("div",ee,[te,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.course_name=e),id:"course_name",class:"form-control"},null,512),[[s.Jo,o.course_name]])]),(0,r.Lk)("div",ae,[se,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o.instructor=e),id:"instructor",class:"form-control"},null,512),[[s.Jo,o.instructor]])]),re],32)])}var oe={data(){return{course_name:"",instructor:""}},methods:{searchCourses(){this.$emit("search",{course_name:this.course_name,instructor:this.instructor})}}};const le=(0,K.A)(oe,[["render",ne]]);var ie=le,ue=a(33);const ce={key:0,class:"search-results"},de={class:"table-responsive"},pe={key:0,class:"table"},he=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"课程名称"),(0,r.Lk)("th",null,"课程属性"),(0,r.Lk)("th",null,"公选课领域"),(0,r.Lk)("th",null,"授课老师"),(0,r.Lk)("th",null,"课程内容与评价"),(0,r.Lk)("th",null,"考勤与平时作业"),(0,r.Lk)("th",null,"期末考核方式"),(0,r.Lk)("th",null,"课程成绩")])],-1),ve={class:"heiti-font"},fe={class:"heiti-font"},me={class:"heiti-font"},ke={class:"heiti-font"},be={class:"heiti-font"},ge={class:"heiti-font"},Le={class:"heiti-font"},ye={class:"times-bold-font"},_e={key:1},Ce={class:"heiti-font"},Fe={class:"card-body"},Pe={key:0,class:"card-row"},Ee=(0,r.Lk)("span",{class:"card-title"},"课程属性:",-1),we={class:"card-content heiti-font"},Ae={key:1,class:"card-row"},xe=(0,r.Lk)("span",{class:"card-title"},"公选课领域:",-1),Se={class:"card-content heiti-font"},Te={class:"card-row"},Xe=(0,r.Lk)("span",{class:"card-title"},"授课老师:",-1),Oe={class:"card-content heiti-font"},Ue={class:"card-row"},Ve=(0,r.Lk)("span",{class:"card-title"},"课程内容与评价:",-1),De={class:"card-content heiti-font"},je={class:"card-row"},qe=(0,r.Lk)("span",{class:"card-title"},"考勤与平时作业:",-1),ze={class:"card-content heiti-font"},Qe={class:"card-row"},We=(0,r.Lk)("span",{class:"card-title"},"期末考核方式:",-1),Me={class:"card-content heiti-font"},Ie={class:"card-row"},Je=(0,r.Lk)("span",{class:"card-title"},"课程成绩:",-1),Re={class:"card-content times-bold-font"},Ne={class:"pagination"},$e=["disabled"],He={class:"pagination-info"},Ke=["disabled"],Ze=["max"],Ge={key:1},Ye=(0,r.Lk)("h2",null,"未找到查询结果",-1),Be=[Ye];function et(e,t,a,n,o,l){return a.results.length?((0,r.uX)(),(0,r.CE)("div",ce,[(0,r.Lk)("h2",null,"查询结果——共查询到 "+(0,ue.v_)(a.results.length)+" 条结果",1),(0,r.Lk)("div",de,[o.isMobile?((0,r.uX)(),(0,r.CE)("div",_e,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.paginatedResults,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"card"},[(0,r.Lk)("div",{class:(0,ue.C4)(["card-header",{"highlight-row":"通识选修课（公选课）"===e["课程属性"]}])},[(0,r.Lk)("span",Ce,"课程名称: "+(0,ue.v_)(e["课程名称"]),1)],2),(0,r.Lk)("div",Fe,[e["课程属性"]?((0,r.uX)(),(0,r.CE)("div",Pe,[Ee,(0,r.Lk)("span",we,(0,ue.v_)(e["课程属性"]),1)])):(0,r.Q3)("",!0),e["公选课领域"]?((0,r.uX)(),(0,r.CE)("div",Ae,[xe,(0,r.Lk)("span",Se,(0,ue.v_)(e["公选课领域"]),1)])):(0,r.Q3)("",!0),(0,r.Lk)("div",Te,[Xe,(0,r.Lk)("span",Oe,(0,ue.v_)(e["授课老师"]),1)]),(0,r.Lk)("div",Ue,[Ve,(0,r.Lk)("span",De,(0,ue.v_)(e["课程内容与评价"]),1)]),(0,r.Lk)("div",je,[qe,(0,r.Lk)("span",ze,(0,ue.v_)(e["考勤与平时作业"]),1)]),(0,r.Lk)("div",Qe,[We,(0,r.Lk)("span",Me,(0,ue.v_)(e["期末考核方式"]),1)]),(0,r.Lk)("div",Ie,[Je,(0,r.Lk)("span",Re,(0,ue.v_)(e["课程成绩"]),1)])])])))),128))])):((0,r.uX)(),(0,r.CE)("table",pe,[he,(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.paginatedResults,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t,class:(0,ue.C4)({"highlight-row":"通识选修课（公选课）"===e["课程属性"]})},[(0,r.Lk)("td",ve,(0,ue.v_)(e["课程名称"]),1),(0,r.Lk)("td",fe,(0,ue.v_)(e["课程属性"]),1),(0,r.Lk)("td",me,(0,ue.v_)(e["公选课领域"]),1),(0,r.Lk)("td",ke,(0,ue.v_)(e["授课老师"]),1),(0,r.Lk)("td",be,(0,ue.v_)(e["课程内容与评价"]),1),(0,r.Lk)("td",ge,(0,ue.v_)(e["考勤与平时作业"]),1),(0,r.Lk)("td",Le,(0,ue.v_)(e["期末考核方式"]),1),(0,r.Lk)("td",ye,(0,ue.v_)(e["课程成绩"]),1)],2)))),128))])]))]),(0,r.Lk)("div",Ne,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.prevPage&&l.prevPage(...e)),disabled:1===o.currentPage,class:"pagination-button"},"上一页",8,$e),(0,r.Lk)("span",He,"第 "+(0,ue.v_)(o.currentPage)+" 页，共 "+(0,ue.v_)(l.totalPages)+" 页",1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.nextPage&&l.nextPage(...e)),disabled:o.currentPage===l.totalPages,class:"pagination-button"},"下一页",8,Ke),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>o.inputPage=e),onKeyup:t[3]||(t[3]=(0,s.jR)(((...e)=>l.jumpToPage&&l.jumpToPage(...e)),["enter"])),placeholder:"页码",min:"1",max:l.totalPages,class:"pagination-input"},null,40,Ze),[[s.Jo,o.inputPage,void 0,{number:!0}]]),(0,r.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>l.jumpToPage&&l.jumpToPage(...e)),class:"pagination-button"},"跳转")])])):((0,r.uX)(),(0,r.CE)("div",Ge,Be))}var tt={props:["results"],data(){return{currentPage:1,itemsPerPage:15,inputPage:"",isMobile:window.innerWidth<=768}},computed:{totalPages(){return Math.ceil(this.results.length/this.itemsPerPage)},paginatedResults(){const e=(this.currentPage-1)*this.itemsPerPage;return this.results.slice(e,e+this.itemsPerPage)}},methods:{nextPage(){this.currentPage<this.totalPages&&this.currentPage++},prevPage(){this.currentPage>1&&this.currentPage--},jumpToPage(){this.inputPage>=1&&this.inputPage<=this.totalPages&&(this.currentPage=this.inputPage)},handleResize(){this.isMobile=window.innerWidth<=768}},mounted(){window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)}};const at=(0,K.A)(tt,[["render",et]]);var st=at;const rt=e=>((0,r.Qi)("data-v-6c3172b1"),e=e(),(0,r.jt)(),e),nt=rt((()=>(0,r.Lk)("h3",null,"这个网站的功能的什么？",-1))),ot=rt((()=>(0,r.Lk)("p",null,"网站收集了同学们对各类课程的评价。在这里，你可以查询各类课程的评价，并贡献自己对某门课程的评价。",-1))),lt=rt((()=>(0,r.Lk)("h3",null,"如何查询课程评价？",-1))),it=rt((()=>(0,r.Lk)("p",null,"您需要认真、负责地填写任意一门您已修课程的评价，然后就可以查询网站的所有课程评价数据。",-1))),ut=rt((()=>(0,r.Lk)("h3",null,"什么是新生专区",-1))),ct=rt((()=>(0,r.Lk)("p",null,"考虑到新生并未修习过大学课程，您只需要完成调查问卷后，就可以查询网站的所有课程评价数据。",-1))),dt=rt((()=>(0,r.Lk)("i",{class:"el-icon-arrow-right"},null,-1))),pt=rt((()=>(0,r.Lk)("h3",null,"调查问卷",-1))),ht=rt((()=>(0,r.Lk)("i",{class:"el-icon-check"},null,-1))),vt=rt((()=>(0,r.Lk)("h3",null,"问卷提交成功！",-1))),ft=rt((()=>(0,r.Lk)("p",null,"感谢您的参与，您的反馈对我们非常重要。您现在可以转到查课界面。",-1))),mt=rt((()=>(0,r.Lk)("i",{class:"el-icon-search"},null,-1))),kt=rt((()=>(0,r.Lk)("h3",null,"关于大学课程",-1))),bt=rt((()=>(0,r.Lk)("p",null," 一般来说，大一的新生所修习最多的是公共基础课程，这其中包括 “高等数学”、“线性代数”等理工科学生的数学基础课程， 又包括“素质体育”、“大学英语”、“思想道德与法治”、“军事理论与训练”等全校必修课程。 ",-1))),gt=rt((()=>(0,r.Lk)("p",null,"更多的课程信息介绍可以参考以下链接：",-1))),Lt=rt((()=>(0,r.Lk)("a",{href:"http://mp.weixin.qq.com/s?__biz=MzIxNTA4MTIzMw==&mid=2247507410&idx=1&sn=67afe67d69a28279df03fcc08980f7ff&chksm=96fff8213ea26f81f9a44b7c6226735accd4d26cbf917036fea3d200f5d3501c2376d5515577&mpshare=1&scene=23&srcid=0902gkQuW5nqZfTpTqHv521A&sharer_shareinfo=536941fc51b1bf681c3eca9bb898e050&sharer_shareinfo_first=536941fc51b1bf681c3eca9bb898e050#rd",target:"_blank",class:"custom-link"},"小淘的新生指南02 | WHU课程介绍",-1))),yt=rt((()=>(0,r.Lk)("a",{href:"http://mp.weixin.qq.com/s?__biz=MzIxNTA4MTIzMw==&mid=2247507587&idx=1&sn=da52d1aed17d2a78725abce9551522c3&chksm=9650a98f0625b910396e1bf613aac151f678e373f7079b275c8d8065dc7434e6049eaf96315d&mpshare=1&scene=23&srcid=09021T4G5Z9EOf1KdYtwn1Ih&sharer_shareinfo=8cc429f2bbd0d54dd6390643d137fd2f&sharer_shareinfo_first=8cc429f2bbd0d54dd6390643d137fd2f#rd",target:"_blank",class:"custom-link"},"小淘的新生指南03 | WHU选课系统",-1)));function _t(e,t,a,n,o,l){const i=(0,r.g2)("el-step"),u=(0,r.g2)("el-steps"),c=(0,r.g2)("el-card"),d=(0,r.g2)("el-button"),p=(0,r.g2)("el-col"),h=(0,r.g2)("el-row"),v=(0,r.g2)("el-option"),f=(0,r.g2)("el-select"),m=(0,r.g2)("el-form-item"),k=(0,r.g2)("el-rate"),b=(0,r.g2)("el-input"),g=(0,r.g2)("el-form"),L=(0,r.g2)("el-main"),y=(0,r.g2)("el-container");return(0,r.uX)(),(0,r.Wv)(y,{class:"freshmen-zone"},{default:(0,r.k6)((()=>[(0,r.bF)(L,null,{default:(0,r.k6)((()=>[(0,r.bF)(u,{active:o.activeStep,"align-center":"","finish-status":"success",class:"steps-container"},{default:(0,r.k6)((()=>[(0,r.bF)(i,{title:"网站介绍"}),(0,r.bF)(i,{title:"填写问卷"}),(0,r.bF)(i,{title:"完成"})])),_:1},8,["active"]),0===o.activeStep?((0,r.uX)(),(0,r.Wv)(h,{key:0,justify:"center"},{default:(0,r.k6)((()=>[(0,r.bF)(p,{span:12,xs:20,sm:18,md:14,lg:12,xl:10},{default:(0,r.k6)((()=>[(0,r.bF)(c,{class:"intro-section card-modern"},{default:(0,r.k6)((()=>[nt,ot])),_:1}),(0,r.bF)(c,{class:"intro-section card-modern"},{default:(0,r.k6)((()=>[lt,it])),_:1}),(0,r.bF)(c,{class:"intro-section card-modern"},{default:(0,r.k6)((()=>[ut,ct])),_:1}),(0,r.bF)(d,{type:"primary",onClick:l.nextStep,round:"",size:"large",class:"next-button"},{default:(0,r.k6)((()=>[(0,r.eW)(" 下一步 "),dt])),_:1},8,["onClick"])])),_:1})])),_:1})):(0,r.Q3)("",!0),1===o.activeStep?((0,r.uX)(),(0,r.Wv)(h,{key:1,justify:"center"},{default:(0,r.k6)((()=>[(0,r.bF)(p,{span:12,xs:20,sm:18,md:14,lg:12,xl:10},{default:(0,r.k6)((()=>[(0,r.bF)(c,{class:"survey-section card-modern"},{default:(0,r.k6)((()=>[pt,(0,r.bF)(g,{model:o.surveyData,rules:o.rules,ref:"surveyForm",onSubmit:(0,s.D$)(l.submitSurvey,["prevent"]),"label-position":"top",class:"survey-form"},{default:(0,r.k6)((()=>[(0,r.bF)(m,{label:"您是否已经了解过大学的选课体系",prop:"curricula",required:""},{default:(0,r.k6)((()=>[(0,r.bF)(f,{modelValue:o.surveyData.curricula,"onUpdate:modelValue":t[0]||(t[0]=e=>o.surveyData.curricula=e),placeholder:"请选择"},{default:(0,r.k6)((()=>[(0,r.bF)(v,{label:"是",value:!0}),(0,r.bF)(v,{label:"否",value:!1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(m,{label:"您认为老师的教学水准和给分好坏哪个更重要",prop:"accept",required:""},{default:(0,r.k6)((()=>[(0,r.bF)(f,{modelValue:o.surveyData.accept,"onUpdate:modelValue":t[1]||(t[1]=e=>o.surveyData.accept=e),placeholder:"请选择"},{default:(0,r.k6)((()=>[(0,r.bF)(v,{label:"教学水准更重要",value:"教学"}),(0,r.bF)(v,{label:"给分好坏更重要",value:"给分"})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(m,{label:"你对大学课程的期待如何",prop:"expectation",required:""},{default:(0,r.k6)((()=>[(0,r.bF)(k,{modelValue:o.surveyData.expectation,"onUpdate:modelValue":t[2]||(t[2]=e=>o.surveyData.expectation=e),"allow-half":!0,clearable:"",max:10},null,8,["modelValue"])])),_:1}),(0,r.bF)(m,{label:"您希望学生社区能为选课带来怎样的帮助"},{default:(0,r.k6)((()=>[(0,r.bF)(b,{type:"textarea",modelValue:o.surveyData.suggestions,"onUpdate:modelValue":t[3]||(t[3]=e=>o.surveyData.suggestions=e),rows:"4",placeholder:"请输入您的建议..."},null,8,["modelValue"])])),_:1}),(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,{type:"primary",onClick:l.submitSurvey,round:"",size:"large",class:"submit-button"},{default:(0,r.k6)((()=>[(0,r.eW)(" 提交问卷 "),ht])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules","onSubmit"])])),_:1})])),_:1})])),_:1})):(0,r.Q3)("",!0),2===o.activeStep?((0,r.uX)(),(0,r.Wv)(h,{key:2,justify:"center"},{default:(0,r.k6)((()=>[(0,r.bF)(p,{span:12,xs:20,sm:18,md:14,lg:12,xl:10},{default:(0,r.k6)((()=>[(0,r.bF)(c,{class:"completion-section card-modern"},{default:(0,r.k6)((()=>[vt,ft,(0,r.bF)(d,{type:"primary",onClick:l.goToCourseSearch,round:"",size:"large",class:"search-button"},{default:(0,r.k6)((()=>[(0,r.eW)(" 转到查课界面 "),mt])),_:1},8,["onClick"])])),_:1}),(0,r.bF)(c,{class:"completion-section card-modern"},{default:(0,r.k6)((()=>[kt,bt,gt,(0,r.bF)(h,{gutter:20},{default:(0,r.k6)((()=>[(0,r.bF)(p,{span:12},{default:(0,r.k6)((()=>[Lt])),_:1}),(0,r.bF)(p,{span:12},{default:(0,r.k6)((()=>[yt])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(0,r.Q3)("",!0)])),_:1})])),_:1})}var Ct={name:"FreshmenZone",data(){return{activeStep:0,surveyData:{curricula:null,accept:null,suggestions:"",expectation:0},rules:{curricula:[{required:!0,message:"请进行选择",trigger:"change"}],accept:[{required:!0,message:"请进行选择",trigger:"change"}],expectation:[{type:"number",required:!0,message:"请对您的期待进行评分",trigger:"change"},{validator:(e,t,a)=>{t<1||t>10?a(new Error("评分范围为1到10")):a()},trigger:"change"}]}}},methods:{nextStep(){this.activeStep+=1},async submitSurvey(){this.$refs.surveyForm.validate((async e=>{if(!e)return console.log("表单验证失败"),!1;{const e="http://103.20.220.93:5000/add_survey",a={curricula:this.surveyData.curricula,accept:this.surveyData.accept,expectation:this.surveyData.expectation,suggestions:this.surveyData.suggestions,timestamp:(new Date).toISOString()};try{await m.A.post(e,a),k.A.set("surveyCompleted","true",{expires:200}),this.nextStep()}catch(t){console.error("提交问卷时出错:",t),this.$message.error("提交问卷时出错，请稍后再试。")}}}))},goToCourseSearch(){window.location.href="/course-search"}}};const Ft=(0,K.A)(Ct,[["render",_t],["__scopeId","data-v-6c3172b1"]]);var Pt=Ft,Et=a(163);m.A.defaults.baseURL="/api",m.A.defaults.headers.common["Access-Control-Allow-Origin"]="*",m.A.defaults.headers.common["Access-Control-Allow-Methods"]="GET, POST, PUT, DELETE, OPTIONS",m.A.defaults.headers.common["Access-Control-Allow-Headers"]="Origin, Content-Type, Accept, Authorization";const wt="http://103.20.220.93:5000/search",At="http://103.20.220.93:5000/statistic";var xt={components:{AddCourse:G,SearchForm:ie,SearchResults:st,FreshmenZone:Pt},data(){return{results:[],currentPage:"add",surveyCompleted:!1,courseEvaluationFilled:!1,visitCount:0,evaluationCount:0}},created(){this.courseEvaluationFilled="true"===k.A.get("courseEvaluationFilled"),this.surveyCompleted="true"===k.A.get("surveyCompleted"),(this.courseEvaluationFilled||this.surveyCompleted)&&(this.currentPage="search"),this.fetchStatistics()},methods:{courseAdded(){this.courseEvaluationFilled=!0,k.A.set("courseEvaluationFilled","true",{expires:120}),this.currentPage="search"},async handleSearch(e){try{0;const a=await m.A.get(wt,{params:e});0;let s=a.data;if("string"===typeof s)try{s=JSON.parse(s)}catch(t){return void 0}if(Array.isArray(s)){const e=s.map((e=>({...e,"课程成绩":null===e["课程成绩"]||isNaN(e["课程成绩"])?"":e["课程成绩"]})));0,this.results=e}else 0}catch(a){0}},async fetchStatistics(){try{const e=await m.A.get(At),t=e.data;this.visitCount=t.visitCount||0,this.evaluationCount=t.evaluationCount||0}catch(e){Et.nk.error("统计数据获取失败")}},handleSurveyCompleted(){this.surveyCompleted=!0,k.A.set("surveyCompleted","true",{expires:90}),this.currentPage="search"}}};const St=(0,K.A)(xt,[["render",f]]);var Tt=St,Xt=a(876),Ot=(a(4188),a(8548));const Ut=(0,s.Ef)(Tt);Ut.use(Xt.A),Ut.mount("#app");for(const[Vt,Dt]of Object.entries(Ot))Ut.component(Vt,Dt)}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,n){if(!s){var o=1/0;for(c=0;c<e.length;c++){s=e[c][0],r=e[c][1],n=e[c][2];for(var l=!0,i=0;i<s.length;i++)(!1&n||o>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(l=!1,n<o&&(o=n));if(l){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[s,r,n]}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,n,o=s[0],l=s[1],i=s[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(i)var c=i(a)}for(t&&t(s);u<o.length;u++)n=o[u],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},s=self["webpackChunkcourse_search"]=self["webpackChunkcourse_search"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(489)}));s=a.O(s)})();
//# sourceMappingURL=app.30210360.js.map
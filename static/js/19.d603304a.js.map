{"version":3,"file":"js/19.d603304a.js","mappings":"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","sources":["webpack://course-search/./src/components/AddCourse.vue","webpack://course-search/./src/components/AddCourse.vue?cf60"],"sourcesContent":["<template>\r\n  <div class=\"add-course\">\r\n    <div class=\"header-text\">\r\n      <h2 v-if=\"!courseEvaluationFilled\">添加课程评价</h2>\r\n      <h2 v-if=\"courseEvaluationFilled\">补充课程评价</h2>\r\n      <div class=\"subtext-box\" v-if=\"!courseEvaluationFilled\">\r\n        <p class=\"subtext\">\r\n          您必须先完成课程评价后，才能查询课程评价。为了维护良好生态，请您务必认真填写评价！\r\n        </p>\r\n      </div>\r\n      <div class=\"warning-box\">\r\n        <p class=\"warning-text\">\r\n          删除Cookies后可能需要重新填写课程评价\r\n        </p>\r\n      </div>\r\n    </div>\r\n    <form @submit.prevent=\"addCourse\">\r\n      <div class=\"form-group\">\r\n        <label for=\"course_name\">课程名称:</label>\r\n        <input type=\"text\" v-model=\"course_name\" id=\"course_name\" class=\"form-control\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"course_attribute\">课程属性:</label>\r\n        <select v-model=\"course_attribute\" id=\"course_attribute\" class=\"form-control\" required>\r\n          <option disabled value=\"\">请选择课程属性</option>\r\n          <option value=\"体育课\">体育课</option>\r\n          <option value=\"通识选修课（公选课）\">通识选修课（公选课）</option>\r\n          <option value=\"公共课\">公共课（高数、线代、大物和思政课等）</option>\r\n          <option value=\"专业课程\">专业课程</option>\r\n          <option value=\"通识必修课（导引）\">通识必修课（导引）</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"form-group\" v-if=\"course_attribute === '通识选修课（公选课）'\">\r\n        <label for=\"elective_field\">公选课领域:</label>\r\n        <select v-model=\"elective_field\" id=\"elective_field\" class=\"form-control\" required>\r\n          <option disabled value=\"\">请选择公选课领域</option>\r\n          <option value=\"中华文化与世界文明\">中华文化与世界文明</option>\r\n          <option value=\"科学精神与生命关怀\">科学精神与生命关怀</option>\r\n          <option value=\"社会科学与现代科学\">社会科学与现代科学</option>\r\n          <option value=\"艺术体验与审美欣赏\">艺术体验与审美欣赏</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"instructor\">授课老师:</label>\r\n        <input type=\"text\" v-model=\"instructor\" id=\"instructor\" class=\"form-control\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"content\">课程内容与评价:</label>\r\n        <textarea v-model=\"content\" id=\"content\" class=\"form-control\" required></textarea>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"attendance\">考勤与平时作业:</label>\r\n        <textarea v-model=\"attendance\" id=\"attendance\" class=\"form-control\" required></textarea>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"assessment\">期末考核方式:</label>\r\n        <textarea v-model=\"assessment\" id=\"assessment\" class=\"form-control\" required></textarea>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"grade\">课程成绩(选填):</label>\r\n        <input type=\"number\" v-model=\"grade\" id=\"grade\" class=\"form-control\">\r\n      </div>\r\n      <div class=\"button-container\">\r\n        <button type=\"submit\" class=\"btn btn-primary\">提交评价</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\naxios.defaults.headers.common['Access-Control-Allow-Origin'] = '*'\r\naxios.defaults.headers.common['Access-Control-Allow-Methods'] = 'GET, POST, PUT, DELETE, OPTIONS'\r\naxios.defaults.headers.common['Access-Control-Allow-Headers'] = 'Origin, Content-Type, Accept, Authorization'\r\nexport default {\r\n  data() {\r\n    return {\r\n      course_name: '',\r\n      course_attribute: '',\r\n      elective_field: '',\r\n      instructor: '',\r\n      content: '',\r\n      attendance: '',\r\n      assessment: '',\r\n      grade: '',\r\n      courseEvaluationFilled: Cookies.get('courseEvaluationFilled') === 'true'\r\n    };\r\n  },\r\n  methods: {\r\n    async addCourse() {\r\n      const courseData = {\r\n        course_name: this.course_name,\r\n        course_attribute: this.course_attribute,\r\n        elective_field: this.course_attribute === '通识选修课（公选课）' ? this.elective_field : '',\r\n        instructor: this.instructor,\r\n        content: this.content,\r\n        attendance: this.attendance,\r\n        assessment: this.assessment,\r\n        grade: this.grade === '' ? 'Unknown' : this.grade\r\n      };\r\n\r\n      // 检查课程成绩是否在0-100范围内或为'Unknown'\r\n      if (courseData.grade !== 'Unknown' && (!Number.isInteger(courseData.grade) || courseData.grade < 0 || courseData.grade > 100)) {\r\n        alert('课程成绩必须是0-100范围内的整数或者为空');\r\n        return;\r\n      }\r\n      \r\n      // 动态设置请求URL\r\n      const apiUrl = process.env.NODE_ENV === 'development'\r\n        ? 'http://127.0.0.1:5000/add_course'\r\n        : 'http://103.20.220.93:5000/add_course';\r\n        \r\n      try {\r\n        await axios.post(apiUrl, courseData);\r\n        alert('课程评价提交成功');\r\n        Cookies.set('courseEvaluationFilled', 'true', { expires: 200 });\r\n        this.courseEvaluationFilled = true;\r\n        this.$emit('courseAdded');\r\n      } catch (error) {\r\n        console.error('Error adding course:', error);\r\n        alert('课程评价提交失败');\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.add-course {\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 15px;\r\n  background-color: #f9f9f9;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n.header-text {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n.header-text h2 {\r\n  margin-bottom: 10px;\r\n}\r\n.subtext-box, .warning-box {\r\n  border: 1px solid #ddd;\r\n  border-radius: 10px;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n.subtext-box {\r\n  background-color: #e7f3fe;\r\n  border-color: #b3d4fc;\r\n}\r\n.warning-box {\r\n  background-color: #fff3cd;\r\n  border-color: #ffeeba;\r\n}\r\n.header-text .subtext {\r\n  font-size: 14px;\r\n  color: #555;\r\n  margin: 0;\r\n}\r\n.header-text .warning-text {\r\n  font-size: 12px;\r\n  color: #a00;\r\n  margin: 0;\r\n}\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n.form-control {\r\n  width: 100%;\r\n  padding: 10px;\r\n  margin-top: 5px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 10px;\r\n  transition: border-color 0.3s ease-in-out;\r\n}\r\n.form-control:focus {\r\n  border-color: #007bff;\r\n  outline: none;\r\n  box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);\r\n}\r\n.button-container {\r\n  text-align: center;\r\n  margin-top: 20px;\r\n}\r\n.btn {\r\n  display: inline-block;\r\n  padding: 10px 20px;\r\n  color: #fff;\r\n  background-color: #007bff;\r\n  border: none;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease-in-out;\r\n}\r\n.btn:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .add-course {\r\n    padding: 15px;\r\n  }\r\n  .form-control {\r\n    padding: 8px;\r\n    font-size: 14px;\r\n  }\r\n  .btn {\r\n    padding: 8px 16px;\r\n    font-size: 14px;\r\n  }\r\n  .header-text h2 {\r\n    font-size: 18px;\r\n  }\r\n  .header-text .subtext,\r\n  .header-text .warning-text {\r\n    font-size: 12px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./AddCourse.vue?vue&type=template&id=830a9550\"\nimport script from \"./AddCourse.vue?vue&type=script&lang=js\"\nexport * from \"./AddCourse.vue?vue&type=script&lang=js\"\n\nimport \"./AddCourse.vue?vue&type=style&index=0&id=830a9550&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementVNode","_hoisted_6","for","_createStaticVNode","_hoisted_13","_hoisted_22","type","_createElementBlock","_hoisted_1","_hoisted_2","$data","courseEvaluationFilled","_createCommentVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_7","_hoisted_8","onSubmit","_cache","_withModifiers","args","$options","addCourse","_hoisted_9","_hoisted_10","$event","course_name","id","required","_hoisted_11","_hoisted_12","course_attribute","_hoisted_19","_hoisted_20","_hoisted_21","elective_field","_hoisted_27","_hoisted_28","_hoisted_29","instructor","_hoisted_30","_hoisted_31","content","_hoisted_32","_hoisted_33","attendance","_hoisted_34","_hoisted_35","assessment","_hoisted_36","_hoisted_37","grade","_hoisted_38","axios","defaults","headers","common","data","Cookies","get","methods","courseData","this","Number","isInteger","alert","apiUrl","post","set","expires","$emit","error","console","__exports__","render"],"sourceRoot":""}